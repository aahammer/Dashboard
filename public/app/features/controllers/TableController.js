// Generated by CoffeeScript 1.7.1
(function() {
  define([], function() {
    return function($settings) {
      var TableController;
      TableController = function($rootScope, $scope, $location, $settings, DataService) {
        var id, selection;
        id = $settings.id;
        $scope.id = id;
        $rootScope[id] = {};
        selection = [];
        $scope.gridOptions = {
          data: 'table',
          multiSelect: false,
          selectedItems: selection,
          headerRowHeight: 0,
          columnDefs: [
            {
              field: 'key',
              displayName: 'Speciality',
              width: '80%'
            }, {
              field: 'value',
              displayName: 'Total',
              width: '20%'
            }
          ]
        };

        /* RUNTIME ACTIONS */
        $scope.$watch((function() {
          return DataService.dataPoint[id];
        }), (function(currrent, last) {
          $scope.table = DataService.dataPoint[id];
        }), true);
        $scope.$watch((function() {
          return selection;
        }), (function(current, last) {
          if (current.length !== 0) {
            $location.path('/items/' + current[0].id);
          } else {
            $scope.gridOptions.selectRow(0, true);
          }
        }), true);
      };
      return ['$rootScope', '$scope', '$location', $settings, 'DataService', TableController];
    };
  });


  /*
  define([], () ->
  
      ($settings) ->
  
          TableListController = ( $rootScope, $scope, $settings, DataService) ->
  
              $scope.data = $settings.data
              console.log($settings.data)
               *$scope[$settings.data].doSomething = () -> console.log("hallo Welt")
              this.scope = $scope
              $rootScope.items = ()->console.log("hallo Welt")
              this.scope.gridOptions = {data: 'table'}
              this.scope.table = [ name:"alfons", name:"bert"]
              return( this )
  
          TableListController.prototype =
              hallo : () ->
                  console.log("welt")
                  return
  
          return [ '$rootScope', "$scope", $settings, 'DataService', TableListController ]
  )
   */


  /*
  
  )
   */

}).call(this);

//# sourceMappingURL=TableController.map
